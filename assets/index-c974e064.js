var O=Object.defineProperty;var q=(y,p,t)=>p in y?O(y,p,{enumerable:!0,configurable:!0,writable:!0,value:t}):y[p]=t;var a=(y,p,t)=>(q(y,typeof p!="symbol"?p+"":p,t),t);(function(){const p=document.createElement("link").relList;if(p&&p.supports&&p.supports("modulepreload"))return;for(const x of document.querySelectorAll('link[rel="modulepreload"]'))i(x);new MutationObserver(x=>{for(const e of x)if(e.type==="childList")for(const n of e.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&i(n)}).observe(document,{childList:!0,subtree:!0});function t(x){const e={};return x.integrity&&(e.integrity=x.integrity),x.referrerpolicy&&(e.referrerPolicy=x.referrerpolicy),x.crossorigin==="use-credentials"?e.credentials="include":x.crossorigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function i(x){if(x.ep)return;x.ep=!0;const e=t(x);fetch(x.href,e)}})();const f=(y,p,t="#000")=>{y.beginPath(),y.moveTo(p.p1.x,p.p1.y),y.lineTo(p.p2.x,p.p2.y),y.strokeStyle=t,y.stroke()},v={walls:[{p1:{x:205,y:127},p2:{x:286,y:129}},{p1:{x:286,y:129},p2:{x:296,y:54}},{p1:{x:296,y:54},p2:{x:203,y:50}},{p1:{x:203,y:50},p2:{x:111,y:49}},{p1:{x:111,y:49},p2:{x:59,y:47}},{p1:{x:59,y:47},p2:{x:38,y:124}},{p1:{x:38,y:124},p2:{x:112,y:134}},{p1:{x:112,y:134},p2:{x:127,y:192}},{p1:{x:127,y:192},p2:{x:121,y:246}},{p1:{x:121,y:246},p2:{x:97,y:302}},{p1:{x:97,y:302},p2:{x:89,y:355}},{p1:{x:89,y:355},p2:{x:74,y:429}},{p1:{x:74,y:429},p2:{x:74,y:479}},{p1:{x:74,y:479},p2:{x:67,y:547}},{p1:{x:67,y:547},p2:{x:69,y:598}},{p1:{x:69,y:598},p2:{x:81,y:657}},{p1:{x:81,y:657},p2:{x:99,y:689}},{p1:{x:99,y:689},p2:{x:129,y:718}},{p1:{x:129,y:718},p2:{x:178,y:723}},{p1:{x:178,y:723},p2:{x:236,y:730}},{p1:{x:236,y:730},p2:{x:303,y:732}},{p1:{x:303,y:732},p2:{x:342,y:732}},{p1:{x:342,y:732},p2:{x:374,y:750}},{p1:{x:374,y:750},p2:{x:426,y:757}},{p1:{x:426,y:757},p2:{x:491,y:746}},{p1:{x:491,y:746},p2:{x:507,y:701}},{p1:{x:507,y:701},p2:{x:510,y:665}},{p1:{x:510,y:665},p2:{x:538,y:612}},{p1:{x:538,y:612},p2:{x:594,y:584}},{p1:{x:594,y:584},p2:{x:638,y:571}},{p1:{x:638,y:571},p2:{x:696,y:539}},{p1:{x:696,y:539},p2:{x:722,y:491}},{p1:{x:722,y:491},p2:{x:728,y:419}},{p1:{x:728,y:419},p2:{x:710,y:379}},{p1:{x:710,y:379},p2:{x:678,y:346}},{p1:{x:678,y:346},p2:{x:669,y:314}},{p1:{x:669,y:314},p2:{x:699,y:285}},{p1:{x:699,y:285},p2:{x:740,y:262}},{p1:{x:740,y:262},p2:{x:755,y:193}},{p1:{x:755,y:193},p2:{x:752,y:154}},{p1:{x:752,y:154},p2:{x:734,y:128}},{p1:{x:734,y:128},p2:{x:695,y:98}},{p1:{x:695,y:98},p2:{x:647,y:78}},{p1:{x:647,y:78},p2:{x:593,y:78}},{p1:{x:593,y:78},p2:{x:560,y:101}},{p1:{x:560,y:101},p2:{x:554,y:139}},{p1:{x:554,y:139},p2:{x:515,y:174}},{p1:{x:515,y:174},p2:{x:469,y:165}},{p1:{x:469,y:165},p2:{x:426,y:154}},{p1:{x:426,y:154},p2:{x:374,y:182}},{p1:{x:374,y:182},p2:{x:406,y:240}},{p1:{x:406,y:240},p2:{x:457,y:220}},{p1:{x:457,y:220},p2:{x:522,y:238}},{p1:{x:522,y:238},p2:{x:584,y:200}},{p1:{x:584,y:200},p2:{x:603,y:170}},{p1:{x:603,y:170},p2:{x:613,y:153}},{p1:{x:613,y:153},p2:{x:640,y:155}},{p1:{x:640,y:155},p2:{x:664,y:161}},{p1:{x:664,y:161},p2:{x:666,y:180}},{p1:{x:666,y:180},p2:{x:670,y:196}},{p1:{x:670,y:196},p2:{x:670,y:211}},{p1:{x:670,y:211},p2:{x:670,y:235}},{p1:{x:670,y:235},p2:{x:638,y:240}},{p1:{x:638,y:240},p2:{x:611,y:262}},{p1:{x:611,y:262},p2:{x:604,y:300}},{p1:{x:604,y:300},p2:{x:595,y:339}},{p1:{x:595,y:339},p2:{x:622,y:360}},{p1:{x:622,y:360},p2:{x:642,y:372}},{p1:{x:642,y:372},p2:{x:645,y:397}},{p1:{x:645,y:397},p2:{x:654,y:413}},{p1:{x:654,y:413},p2:{x:654,y:436}},{p1:{x:654,y:436},p2:{x:648,y:473}},{p1:{x:648,y:473},p2:{x:622,y:482}},{p1:{x:622,y:482},p2:{x:609,y:491}},{p1:{x:609,y:491},p2:{x:574,y:500}},{p1:{x:574,y:500},p2:{x:550,y:514}},{p1:{x:550,y:514},p2:{x:538,y:526}},{p1:{x:538,y:526},p2:{x:507,y:550}},{p1:{x:507,y:550},p2:{x:506,y:568}},{p1:{x:506,y:568},p2:{x:481,y:572}},{p1:{x:481,y:572},p2:{x:442,y:573}},{p1:{x:442,y:573},p2:{x:441,y:586}},{p1:{x:441,y:586},p2:{x:433,y:621}},{p1:{x:433,y:621},p2:{x:429,y:651}},{p1:{x:429,y:651},p2:{x:414,y:652}},{p1:{x:414,y:652},p2:{x:376,y:664}},{p1:{x:376,y:664},p2:{x:340,y:667}},{p1:{x:340,y:667},p2:{x:290,y:652}},{p1:{x:290,y:652},p2:{x:248,y:630}},{p1:{x:248,y:630},p2:{x:214,y:641}},{p1:{x:214,y:641},p2:{x:204,y:635}},{p1:{x:204,y:635},p2:{x:182,y:622}},{p1:{x:182,y:622},p2:{x:180,y:597}},{p1:{x:180,y:597},p2:{x:173,y:572}},{p1:{x:173,y:572},p2:{x:174,y:548}},{p1:{x:174,y:548},p2:{x:181,y:529}},{p1:{x:181,y:529},p2:{x:206,y:480}},{p1:{x:206,y:480},p2:{x:220,y:414}},{p1:{x:220,y:414},p2:{x:227,y:377}},{p1:{x:227,y:377},p2:{x:232,y:356}},{p1:{x:232,y:356},p2:{x:230,y:323}},{p1:{x:230,y:323},p2:{x:221,y:295}},{p1:{x:221,y:295},p2:{x:214,y:261}},{p1:{x:214,y:261},p2:{x:204,y:228}},{p1:{x:204,y:228},p2:{x:199,y:193}},{p1:{x:199,y:193},p2:{x:187,y:161}},{p1:{x:187,y:161},p2:{x:205,y:126}}]},R={walls:[{p1:{x:86,y:83},p2:{x:86,y:162}},{p1:{x:86,y:162},p2:{x:164,y:164}},{p1:{x:164,y:164},p2:{x:198,y:188}},{p1:{x:198,y:188},p2:{x:195,y:217}},{p1:{x:195,y:217},p2:{x:180,y:239}},{p1:{x:180,y:239},p2:{x:159,y:244}},{p1:{x:159,y:244},p2:{x:122,y:250}},{p1:{x:122,y:250},p2:{x:77,y:258}},{p1:{x:77,y:258},p2:{x:55,y:269}},{p1:{x:55,y:269},p2:{x:47,y:285}},{p1:{x:47,y:285},p2:{x:45,y:313}},{p1:{x:45,y:313},p2:{x:40,y:335}},{p1:{x:40,y:335},p2:{x:28,y:357}},{p1:{x:28,y:357},p2:{x:32,y:375}},{p1:{x:32,y:375},p2:{x:48,y:402}},{p1:{x:48,y:402},p2:{x:77,y:418}},{p1:{x:77,y:418},p2:{x:110,y:427}},{p1:{x:110,y:427},p2:{x:141,y:428}},{p1:{x:141,y:428},p2:{x:173,y:418}},{p1:{x:173,y:418},p2:{x:193,y:403}},{p1:{x:193,y:403},p2:{x:201,y:384}},{p1:{x:201,y:384},p2:{x:208,y:358}},{p1:{x:208,y:358},p2:{x:224,y:345}},{p1:{x:224,y:345},p2:{x:246,y:342}},{p1:{x:246,y:342},p2:{x:262,y:365}},{p1:{x:262,y:365},p2:{x:265,y:394}},{p1:{x:265,y:394},p2:{x:263,y:424}},{p1:{x:263,y:424},p2:{x:252,y:448}},{p1:{x:252,y:448},p2:{x:223,y:464}},{p1:{x:223,y:464},p2:{x:203,y:481}},{p1:{x:203,y:481},p2:{x:199,y:526}},{p1:{x:199,y:526},p2:{x:220,y:571}},{p1:{x:220,y:571},p2:{x:236,y:583}},{p1:{x:236,y:583},p2:{x:297,y:583}},{p1:{x:297,y:583},p2:{x:326,y:580}},{p1:{x:326,y:580},p2:{x:339,y:566}},{p1:{x:339,y:566},p2:{x:354,y:545}},{p1:{x:354,y:545},p2:{x:369,y:498}},{p1:{x:369,y:498},p2:{x:370,y:467}},{p1:{x:370,y:467},p2:{x:369,y:447}},{p1:{x:369,y:447},p2:{x:365,y:395}},{p1:{x:365,y:395},p2:{x:378,y:354}},{p1:{x:378,y:354},p2:{x:388,y:335}},{p1:{x:388,y:335},p2:{x:403,y:321}},{p1:{x:403,y:321},p2:{x:431,y:307}},{p1:{x:431,y:307},p2:{x:470,y:309}},{p1:{x:470,y:309},p2:{x:483,y:329}},{p1:{x:483,y:329},p2:{x:494,y:384}},{p1:{x:494,y:384},p2:{x:494,y:468}},{p1:{x:494,y:468},p2:{x:484,y:485}},{p1:{x:484,y:485},p2:{x:449,y:519}},{p1:{x:449,y:519},p2:{x:404,y:577}},{p1:{x:404,y:577},p2:{x:377,y:660}},{p1:{x:377,y:660},p2:{x:395,y:686}},{p1:{x:395,y:686},p2:{x:424,y:698}},{p1:{x:424,y:698},p2:{x:494,y:694}},{p1:{x:494,y:694},p2:{x:548,y:676}},{p1:{x:548,y:676},p2:{x:608,y:639}},{p1:{x:608,y:639},p2:{x:649,y:596}},{p1:{x:649,y:596},p2:{x:685,y:547}},{p1:{x:685,y:547},p2:{x:698,y:509}},{p1:{x:698,y:509},p2:{x:711,y:453}},{p1:{x:711,y:453},p2:{x:736,y:352}},{p1:{x:736,y:352},p2:{x:737,y:277}},{p1:{x:737,y:277},p2:{x:736,y:213}},{p1:{x:736,y:213},p2:{x:719,y:169}},{p1:{x:719,y:169},p2:{x:691,y:139}},{p1:{x:691,y:139},p2:{x:649,y:111}},{p1:{x:649,y:111},p2:{x:628,y:114}},{p1:{x:628,y:114},p2:{x:583,y:132}},{p1:{x:583,y:132},p2:{x:571,y:170}},{p1:{x:571,y:170},p2:{x:604,y:237}},{p1:{x:604,y:237},p2:{x:639,y:223}},{p1:{x:639,y:223},p2:{x:636,y:198}},{p1:{x:636,y:198},p2:{x:640,y:177}},{p1:{x:640,y:177},p2:{x:652,y:177}},{p1:{x:652,y:177},p2:{x:664,y:189}},{p1:{x:664,y:189},p2:{x:665,y:205}},{p1:{x:665,y:205},p2:{x:670,y:226}},{p1:{x:670,y:226},p2:{x:682,y:269}},{p1:{x:682,y:269},p2:{x:683,y:298}},{p1:{x:683,y:298},p2:{x:669,y:334}},{p1:{x:669,y:334},p2:{x:667,y:353}},{p1:{x:667,y:353},p2:{x:652,y:406}},{p1:{x:652,y:406},p2:{x:652,y:433}},{p1:{x:652,y:433},p2:{x:646,y:463}},{p1:{x:646,y:463},p2:{x:636,y:488}},{p1:{x:636,y:488},p2:{x:629,y:504}},{p1:{x:629,y:504},p2:{x:613,y:552}},{p1:{x:613,y:552},p2:{x:610,y:571}},{p1:{x:610,y:571},p2:{x:574,y:617}},{p1:{x:574,y:617},p2:{x:554,y:627}},{p1:{x:554,y:627},p2:{x:504,y:646}},{p1:{x:504,y:646},p2:{x:479,y:650}},{p1:{x:479,y:650},p2:{x:462,y:641}},{p1:{x:462,y:641},p2:{x:456,y:628}},{p1:{x:456,y:628},p2:{x:457,y:611}},{p1:{x:457,y:611},p2:{x:463,y:593}},{p1:{x:463,y:593},p2:{x:476,y:576}},{p1:{x:476,y:576},p2:{x:507,y:552}},{p1:{x:507,y:552},p2:{x:521,y:539}},{p1:{x:521,y:539},p2:{x:529,y:513}},{p1:{x:529,y:513},p2:{x:543,y:469}},{p1:{x:543,y:469},p2:{x:555,y:446}},{p1:{x:555,y:446},p2:{x:568,y:390}},{p1:{x:568,y:390},p2:{x:568,y:351}},{p1:{x:568,y:351},p2:{x:554,y:323}},{p1:{x:554,y:323},p2:{x:524,y:281}},{p1:{x:524,y:281},p2:{x:502,y:262}},{p1:{x:502,y:262},p2:{x:457,y:244}},{p1:{x:457,y:244},p2:{x:436,y:243}},{p1:{x:436,y:243},p2:{x:405,y:250}},{p1:{x:405,y:250},p2:{x:388,y:255}},{p1:{x:388,y:255},p2:{x:372,y:265}},{p1:{x:372,y:265},p2:{x:358,y:281}},{p1:{x:358,y:281},p2:{x:356,y:296}},{p1:{x:356,y:296},p2:{x:354,y:309}},{p1:{x:354,y:309},p2:{x:342,y:329}},{p1:{x:342,y:329},p2:{x:340,y:346}},{p1:{x:340,y:346},p2:{x:340,y:365}},{p1:{x:340,y:365},p2:{x:333,y:384}},{p1:{x:333,y:384},p2:{x:329,y:414}},{p1:{x:329,y:414},p2:{x:329,y:414}},{p1:{x:329,y:414},p2:{x:329,y:426}},{p1:{x:329,y:426},p2:{x:330,y:441}},{p1:{x:330,y:441},p2:{x:323,y:476}},{p1:{x:323,y:476},p2:{x:323,y:491}},{p1:{x:323,y:491},p2:{x:321,y:504}},{p1:{x:321,y:504},p2:{x:314,y:532}},{p1:{x:314,y:532},p2:{x:306,y:544}},{p1:{x:306,y:544},p2:{x:286,y:542}},{p1:{x:286,y:542},p2:{x:257,y:533}},{p1:{x:257,y:533},p2:{x:256,y:524}},{p1:{x:256,y:524},p2:{x:264,y:505}},{p1:{x:264,y:505},p2:{x:275,y:491}},{p1:{x:275,y:491},p2:{x:281,y:479}},{p1:{x:281,y:479},p2:{x:290,y:463}},{p1:{x:290,y:463},p2:{x:297,y:446}},{p1:{x:297,y:446},p2:{x:303,y:430}},{p1:{x:303,y:430},p2:{x:308,y:417}},{p1:{x:308,y:417},p2:{x:313,y:387}},{p1:{x:313,y:387},p2:{x:312,y:361}},{p1:{x:312,y:361},p2:{x:310,y:349}},{p1:{x:310,y:349},p2:{x:308,y:330}},{p1:{x:308,y:330},p2:{x:305,y:324}},{p1:{x:305,y:324},p2:{x:296,y:316}},{p1:{x:296,y:316},p2:{x:279,y:307}},{p1:{x:279,y:307},p2:{x:256,y:303}},{p1:{x:256,y:303},p2:{x:231,y:301}},{p1:{x:231,y:301},p2:{x:188,y:304}},{p1:{x:188,y:304},p2:{x:174,y:318}},{p1:{x:174,y:318},p2:{x:167,y:340}},{p1:{x:167,y:340},p2:{x:167,y:357}},{p1:{x:167,y:357},p2:{x:150,y:379}},{p1:{x:150,y:379},p2:{x:133,y:386}},{p1:{x:133,y:386},p2:{x:112,y:386}},{p1:{x:112,y:386},p2:{x:99,y:381}},{p1:{x:99,y:381},p2:{x:88,y:362}},{p1:{x:88,y:362},p2:{x:85,y:341}},{p1:{x:85,y:341},p2:{x:83,y:324}},{p1:{x:83,y:324},p2:{x:87,y:313}},{p1:{x:87,y:313},p2:{x:99,y:303}},{p1:{x:99,y:303},p2:{x:119,y:293}},{p1:{x:119,y:293},p2:{x:136,y:285}},{p1:{x:136,y:285},p2:{x:187,y:273}},{p1:{x:187,y:273},p2:{x:202,y:270}},{p1:{x:202,y:270},p2:{x:227,y:259}},{p1:{x:227,y:259},p2:{x:237,y:245}},{p1:{x:237,y:245},p2:{x:245,y:229}},{p1:{x:245,y:229},p2:{x:249,y:214}},{p1:{x:249,y:214},p2:{x:249,y:199}},{p1:{x:249,y:199},p2:{x:249,y:186}},{p1:{x:249,y:186},p2:{x:243,y:163}},{p1:{x:243,y:163},p2:{x:235,y:148}},{p1:{x:235,y:148},p2:{x:225,y:140}},{p1:{x:225,y:140},p2:{x:221,y:124}},{p1:{x:221,y:124},p2:{x:216,y:112}},{p1:{x:216,y:112},p2:{x:221,y:90}},{p1:{x:221,y:90},p2:{x:211,y:76}},{p1:{x:211,y:76},p2:{x:166,y:76}},{p1:{x:166,y:76},p2:{x:88,y:83}},{p1:{x:88,y:83},p2:{x:86,y:91}},{p1:{x:86,y:91},p2:{x:78,y:107}}]},N={walls:[{p1:{x:78,y:86},p2:{x:75,y:156}},{p1:{x:75,y:156},p2:{x:149,y:162}},{p1:{x:149,y:162},p2:{x:214,y:176}},{p1:{x:214,y:176},p2:{x:220,y:195}},{p1:{x:220,y:195},p2:{x:221,y:211}},{p1:{x:221,y:211},p2:{x:212,y:223}},{p1:{x:212,y:223},p2:{x:171,y:229}},{p1:{x:171,y:229},p2:{x:149,y:229}},{p1:{x:149,y:229},p2:{x:117,y:229}},{p1:{x:117,y:229},p2:{x:68,y:228}},{p1:{x:68,y:228},p2:{x:53,y:242}},{p1:{x:53,y:242},p2:{x:44,y:283}},{p1:{x:44,y:283},p2:{x:44,y:316}},{p1:{x:44,y:316},p2:{x:55,y:338}},{p1:{x:55,y:338},p2:{x:71,y:357}},{p1:{x:71,y:357},p2:{x:88,y:357}},{p1:{x:88,y:357},p2:{x:134,y:356}},{p1:{x:134,y:356},p2:{x:174,y:356}},{p1:{x:174,y:356},p2:{x:229,y:349}},{p1:{x:229,y:349},p2:{x:274,y:356}},{p1:{x:274,y:356},p2:{x:304,y:398}},{p1:{x:304,y:398},p2:{x:301,y:419}},{p1:{x:301,y:419},p2:{x:280,y:436}},{p1:{x:280,y:436},p2:{x:224,y:443}},{p1:{x:224,y:443},p2:{x:155,y:444}},{p1:{x:155,y:444},p2:{x:107,y:452}},{p1:{x:107,y:452},p2:{x:77,y:463}},{p1:{x:77,y:463},p2:{x:58,y:506}},{p1:{x:58,y:506},p2:{x:40,y:576}},{p1:{x:40,y:576},p2:{x:47,y:593}},{p1:{x:47,y:593},p2:{x:75,y:633}},{p1:{x:75,y:633},p2:{x:111,y:650}},{p1:{x:111,y:650},p2:{x:149,y:657}},{p1:{x:149,y:657},p2:{x:196,y:664}},{p1:{x:196,y:664},p2:{x:251,y:665}},{p1:{x:251,y:665},p2:{x:295,y:665}},{p1:{x:295,y:665},p2:{x:318,y:662}},{p1:{x:318,y:662},p2:{x:331,y:656}},{p1:{x:331,y:656},p2:{x:349,y:643}},{p1:{x:349,y:643},p2:{x:370,y:631}},{p1:{x:370,y:631},p2:{x:381,y:614}},{p1:{x:381,y:614},p2:{x:394,y:582}},{p1:{x:394,y:582},p2:{x:397,y:563}},{p1:{x:397,y:563},p2:{x:392,y:534}},{p1:{x:392,y:534},p2:{x:391,y:507}},{p1:{x:391,y:507},p2:{x:401,y:445}},{p1:{x:401,y:445},p2:{x:426,y:429}},{p1:{x:426,y:429},p2:{x:445,y:435}},{p1:{x:445,y:435},p2:{x:461,y:497}},{p1:{x:461,y:497},p2:{x:467,y:536}},{p1:{x:467,y:536},p2:{x:464,y:567}},{p1:{x:464,y:567},p2:{x:463,y:580}},{p1:{x:463,y:580},p2:{x:455,y:601}},{p1:{x:455,y:601},p2:{x:452,y:613}},{p1:{x:452,y:613},p2:{x:438,y:637}},{p1:{x:438,y:637},p2:{x:428,y:667}},{p1:{x:428,y:667},p2:{x:424,y:685}},{p1:{x:424,y:685},p2:{x:429,y:730}},{p1:{x:429,y:730},p2:{x:435,y:736}},{p1:{x:435,y:736},p2:{x:500,y:765}},{p1:{x:500,y:765},p2:{x:611,y:775}},{p1:{x:611,y:775},p2:{x:677,y:760}},{p1:{x:677,y:760},p2:{x:706,y:735}},{p1:{x:706,y:735},p2:{x:730,y:706}},{p1:{x:730,y:706},p2:{x:744,y:678}},{p1:{x:744,y:678},p2:{x:757,y:642}},{p1:{x:757,y:642},p2:{x:758,y:628}},{p1:{x:758,y:628},p2:{x:731,y:603}},{p1:{x:731,y:603},p2:{x:684,y:609}},{p1:{x:684,y:609},p2:{x:685,y:642}},{p1:{x:685,y:642},p2:{x:675,y:672}},{p1:{x:675,y:672},p2:{x:650,y:705}},{p1:{x:650,y:705},p2:{x:634,y:722}},{p1:{x:634,y:722},p2:{x:573,y:724}},{p1:{x:573,y:724},p2:{x:527,y:700}},{p1:{x:527,y:700},p2:{x:507,y:687}},{p1:{x:507,y:687},p2:{x:512,y:647}},{p1:{x:512,y:647},p2:{x:518,y:628}},{p1:{x:518,y:628},p2:{x:524,y:589}},{p1:{x:524,y:589},p2:{x:528,y:570}},{p1:{x:528,y:570},p2:{x:528,y:539}},{p1:{x:528,y:539},p2:{x:529,y:513}},{p1:{x:529,y:513},p2:{x:525,y:487}},{p1:{x:525,y:487},p2:{x:521,y:453}},{p1:{x:521,y:453},p2:{x:507,y:421}},{p1:{x:507,y:421},p2:{x:493,y:399}},{p1:{x:493,y:399},p2:{x:451,y:387}},{p1:{x:451,y:387},p2:{x:429,y:383}},{p1:{x:429,y:383},p2:{x:414,y:393}},{p1:{x:414,y:393},p2:{x:386,y:404}},{p1:{x:386,y:404},p2:{x:376,y:429}},{p1:{x:376,y:429},p2:{x:370,y:451}},{p1:{x:370,y:451},p2:{x:355,y:495}},{p1:{x:355,y:495},p2:{x:346,y:517}},{p1:{x:346,y:517},p2:{x:335,y:543}},{p1:{x:335,y:543},p2:{x:320,y:558}},{p1:{x:320,y:558},p2:{x:286,y:579}},{p1:{x:286,y:579},p2:{x:261,y:590}},{p1:{x:261,y:590},p2:{x:218,y:597}},{p1:{x:218,y:597},p2:{x:168,y:594}},{p1:{x:168,y:594},p2:{x:116,y:575}},{p1:{x:116,y:575},p2:{x:115,y:541}},{p1:{x:115,y:541},p2:{x:125,y:531}},{p1:{x:125,y:531},p2:{x:181,y:510}},{p1:{x:181,y:510},p2:{x:218,y:507}},{p1:{x:218,y:507},p2:{x:246,y:506}},{p1:{x:246,y:506},p2:{x:263,y:494}},{p1:{x:263,y:494},p2:{x:278,y:488}},{p1:{x:278,y:488},p2:{x:327,y:470}},{p1:{x:327,y:470},p2:{x:351,y:444}},{p1:{x:351,y:444},p2:{x:362,y:408}},{p1:{x:362,y:408},p2:{x:377,y:355}},{p1:{x:377,y:355},p2:{x:372,y:344}},{p1:{x:372,y:344},p2:{x:364,y:327}},{p1:{x:364,y:327},p2:{x:334,y:308}},{p1:{x:334,y:308},p2:{x:270,y:296}},{p1:{x:270,y:296},p2:{x:216,y:301}},{p1:{x:216,y:301},p2:{x:206,y:305}},{p1:{x:206,y:305},p2:{x:171,y:308}},{p1:{x:171,y:308},p2:{x:148,y:305}},{p1:{x:148,y:305},p2:{x:151,y:299}},{p1:{x:151,y:299},p2:{x:176,y:280}},{p1:{x:176,y:280},p2:{x:221,y:278}},{p1:{x:221,y:278},p2:{x:286,y:271}},{p1:{x:286,y:271},p2:{x:300,y:270}},{p1:{x:300,y:270},p2:{x:331,y:253}},{p1:{x:331,y:253},p2:{x:334,y:239}},{p1:{x:334,y:239},p2:{x:331,y:212}},{p1:{x:331,y:212},p2:{x:324,y:189}},{p1:{x:324,y:189},p2:{x:317,y:170}},{p1:{x:317,y:170},p2:{x:309,y:165}},{p1:{x:309,y:165},p2:{x:284,y:157}},{p1:{x:284,y:157},p2:{x:261,y:152}},{p1:{x:261,y:152},p2:{x:216,y:138}},{p1:{x:216,y:138},p2:{x:214,y:124}},{p1:{x:214,y:124},p2:{x:214,y:93}},{p1:{x:214,y:93},p2:{x:86,y:84}},{p1:{x:86,y:84},p2:{x:69,y:97}}]},k={walls:[{p1:{x:91,y:52},p2:{x:134,y:50}},{p1:{x:134,y:50},p2:{x:193,y:50}},{p1:{x:193,y:50},p2:{x:296,y:57}},{p1:{x:296,y:57},p2:{x:337,y:59}},{p1:{x:337,y:59},p2:{x:446,y:62}},{p1:{x:446,y:62},p2:{x:482,y:64}},{p1:{x:482,y:64},p2:{x:554,y:86}},{p1:{x:554,y:86},p2:{x:614,y:86}},{p1:{x:614,y:86},p2:{x:723,y:129}},{p1:{x:723,y:129},p2:{x:743,y:152}},{p1:{x:743,y:152},p2:{x:757,y:241}},{p1:{x:757,y:241},p2:{x:757,y:360}},{p1:{x:757,y:360},p2:{x:757,y:402}},{p1:{x:757,y:402},p2:{x:757,y:450}},{p1:{x:757,y:450},p2:{x:747,y:536}},{p1:{x:747,y:536},p2:{x:729,y:621}},{p1:{x:729,y:621},p2:{x:725,y:697}},{p1:{x:725,y:697},p2:{x:697,y:724}},{p1:{x:697,y:724},p2:{x:590,y:748}},{p1:{x:590,y:748},p2:{x:506,y:758}},{p1:{x:506,y:758},p2:{x:371,y:760}},{p1:{x:371,y:760},p2:{x:256,y:766}},{p1:{x:256,y:766},p2:{x:188,y:769}},{p1:{x:188,y:769},p2:{x:118,y:756}},{p1:{x:118,y:756},p2:{x:48,y:734}},{p1:{x:48,y:734},p2:{x:25,y:704}},{p1:{x:25,y:704},p2:{x:25,y:637}},{p1:{x:25,y:637},p2:{x:27,y:577}},{p1:{x:27,y:577},p2:{x:33,y:529}},{p1:{x:33,y:529},p2:{x:32,y:449}},{p1:{x:32,y:449},p2:{x:43,y:407}},{p1:{x:43,y:407},p2:{x:59,y:374}},{p1:{x:59,y:374},p2:{x:57,y:311}},{p1:{x:57,y:311},p2:{x:61,y:271}},{p1:{x:61,y:271},p2:{x:61,y:190}},{p1:{x:61,y:190},p2:{x:61,y:137}},{p1:{x:61,y:137},p2:{x:68,y:92}},{p1:{x:68,y:92},p2:{x:79,y:61}},{p1:{x:79,y:61},p2:{x:93,y:53}},{p1:{x:162,y:112},p2:{x:217,y:110}},{p1:{x:217,y:110},p2:{x:258,y:113}},{p1:{x:258,y:113},p2:{x:326,y:117}},{p1:{x:326,y:117},p2:{x:428,y:128}},{p1:{x:428,y:128},p2:{x:501,y:148}},{p1:{x:501,y:148},p2:{x:539,y:157}},{p1:{x:539,y:157},p2:{x:620,y:184}},{p1:{x:620,y:184},p2:{x:669,y:222}},{p1:{x:669,y:222},p2:{x:697,y:262}},{p1:{x:697,y:262},p2:{x:697,y:300}},{p1:{x:697,y:300},p2:{x:693,y:383}},{p1:{x:693,y:383},p2:{x:688,y:460}},{p1:{x:688,y:460},p2:{x:682,y:504}},{p1:{x:682,y:504},p2:{x:677,y:526}},{p1:{x:677,y:526},p2:{x:676,y:557}},{p1:{x:676,y:557},p2:{x:660,y:628}},{p1:{x:660,y:628},p2:{x:642,y:649}},{p1:{x:642,y:649},p2:{x:629,y:659}},{p1:{x:629,y:659},p2:{x:585,y:672}},{p1:{x:585,y:672},p2:{x:525,y:684}},{p1:{x:525,y:684},p2:{x:386,y:703}},{p1:{x:386,y:703},p2:{x:296,y:716}},{p1:{x:296,y:716},p2:{x:216,y:718}},{p1:{x:216,y:718},p2:{x:144,y:709}},{p1:{x:144,y:709},p2:{x:94,y:691}},{p1:{x:94,y:691},p2:{x:86,y:670}},{p1:{x:86,y:670},p2:{x:94,y:636}},{p1:{x:94,y:636},p2:{x:123,y:591}},{p1:{x:123,y:591},p2:{x:136,y:556}},{p1:{x:136,y:556},p2:{x:140,y:506}},{p1:{x:140,y:506},p2:{x:143,y:438}},{p1:{x:143,y:438},p2:{x:143,y:393}},{p1:{x:143,y:393},p2:{x:155,y:302}},{p1:{x:155,y:302},p2:{x:158,y:272}},{p1:{x:158,y:272},p2:{x:157,y:206}},{p1:{x:157,y:206},p2:{x:157,y:168}},{p1:{x:157,y:168},p2:{x:157,y:133}},{p1:{x:157,y:133},p2:{x:161,y:119}},{p1:{x:161,y:119},p2:{x:166,y:110}}]},B={walls:[{p1:{x:123,y:160},p2:{x:165,y:158}},{p1:{x:165,y:158},p2:{x:212,y:157}},{p1:{x:212,y:157},p2:{x:216,y:169}},{p1:{x:216,y:169},p2:{x:228,y:199}},{p1:{x:228,y:199},p2:{x:237,y:232}},{p1:{x:237,y:232},p2:{x:237,y:255}},{p1:{x:237,y:255},p2:{x:232,y:266}},{p1:{x:232,y:266},p2:{x:222,y:271}},{p1:{x:222,y:271},p2:{x:177,y:271}},{p1:{x:177,y:271},p2:{x:161,y:271}},{p1:{x:161,y:271},p2:{x:137,y:275}},{p1:{x:137,y:275},p2:{x:119,y:297}},{p1:{x:119,y:297},p2:{x:108,y:321}},{p1:{x:108,y:321},p2:{x:103,y:359}},{p1:{x:103,y:359},p2:{x:110,y:382}},{p1:{x:110,y:382},p2:{x:123,y:402}},{p1:{x:123,y:402},p2:{x:133,y:414}},{p1:{x:133,y:414},p2:{x:150,y:419}},{p1:{x:150,y:419},p2:{x:164,y:427}},{p1:{x:164,y:427},p2:{x:201,y:441}},{p1:{x:201,y:441},p2:{x:224,y:446}},{p1:{x:224,y:446},p2:{x:300,y:453}},{p1:{x:300,y:453},p2:{x:317,y:440}},{p1:{x:317,y:440},p2:{x:333,y:406}},{p1:{x:333,y:406},p2:{x:330,y:364}},{p1:{x:330,y:364},p2:{x:332,y:321}},{p1:{x:332,y:321},p2:{x:336,y:281}},{p1:{x:336,y:281},p2:{x:340,y:241}},{p1:{x:340,y:241},p2:{x:345,y:230}},{p1:{x:345,y:230},p2:{x:372,y:207}},{p1:{x:372,y:207},p2:{x:381,y:213}},{p1:{x:381,y:213},p2:{x:394,y:241}},{p1:{x:394,y:241},p2:{x:396,y:289}},{p1:{x:396,y:289},p2:{x:395,y:302}},{p1:{x:395,y:302},p2:{x:390,y:312}},{p1:{x:390,y:312},p2:{x:385,y:323}},{p1:{x:385,y:323},p2:{x:386,y:344}},{p1:{x:386,y:344},p2:{x:403,y:370}},{p1:{x:403,y:370},p2:{x:426,y:370}},{p1:{x:426,y:370},p2:{x:456,y:370}},{p1:{x:456,y:370},p2:{x:484,y:352}},{p1:{x:484,y:352},p2:{x:493,y:331}},{p1:{x:493,y:331},p2:{x:500,y:301}},{p1:{x:500,y:301},p2:{x:508,y:265}},{p1:{x:508,y:265},p2:{x:540,y:245}},{p1:{x:540,y:245},p2:{x:583,y:242}},{p1:{x:583,y:242},p2:{x:626,y:283}},{p1:{x:626,y:283},p2:{x:639,y:374}},{p1:{x:639,y:374},p2:{x:627,y:399}},{p1:{x:627,y:399},p2:{x:595,y:420}},{p1:{x:595,y:420},p2:{x:493,y:431}},{p1:{x:493,y:431},p2:{x:443,y:430}},{p1:{x:443,y:430},p2:{x:386,y:424}},{p1:{x:386,y:424},p2:{x:342,y:443}},{p1:{x:342,y:443},p2:{x:337,y:462}},{p1:{x:337,y:462},p2:{x:288,y:504}},{p1:{x:288,y:504},p2:{x:262,y:509}},{p1:{x:262,y:509},p2:{x:211,y:499}},{p1:{x:211,y:499},p2:{x:127,y:498}},{p1:{x:127,y:498},p2:{x:124,y:521}},{p1:{x:124,y:521},p2:{x:130,y:561}},{p1:{x:130,y:561},p2:{x:134,y:619}},{p1:{x:134,y:619},p2:{x:99,y:671}},{p1:{x:99,y:671},p2:{x:122,y:696}},{p1:{x:122,y:696},p2:{x:141,y:718}},{p1:{x:141,y:718},p2:{x:187,y:726}},{p1:{x:187,y:726},p2:{x:224,y:731}},{p1:{x:224,y:731},p2:{x:261,y:720}},{p1:{x:261,y:720},p2:{x:271,y:714}},{p1:{x:271,y:714},p2:{x:279,y:702}},{p1:{x:279,y:702},p2:{x:286,y:673}},{p1:{x:286,y:673},p2:{x:295,y:622}},{p1:{x:295,y:622},p2:{x:303,y:593}},{p1:{x:303,y:593},p2:{x:314,y:584}},{p1:{x:314,y:584},p2:{x:335,y:598}},{p1:{x:335,y:598},p2:{x:340,y:610}},{p1:{x:340,y:610},p2:{x:342,y:636}},{p1:{x:342,y:636},p2:{x:337,y:660}},{p1:{x:337,y:660},p2:{x:330,y:686}},{p1:{x:330,y:686},p2:{x:321,y:747}},{p1:{x:321,y:747},p2:{x:340,y:771}},{p1:{x:340,y:771},p2:{x:394,y:772}},{p1:{x:394,y:772},p2:{x:412,y:757}},{p1:{x:412,y:757},p2:{x:412,y:737}},{p1:{x:412,y:737},p2:{x:412,y:695}},{p1:{x:412,y:695},p2:{x:408,y:650}},{p1:{x:408,y:650},p2:{x:406,y:621}},{p1:{x:406,y:621},p2:{x:422,y:584}},{p1:{x:422,y:584},p2:{x:434,y:571}},{p1:{x:434,y:571},p2:{x:461,y:565}},{p1:{x:461,y:565},p2:{x:489,y:573}},{p1:{x:489,y:573},p2:{x:497,y:615}},{p1:{x:497,y:615},p2:{x:497,y:659}},{p1:{x:497,y:659},p2:{x:490,y:695}},{p1:{x:490,y:695},p2:{x:491,y:741}},{p1:{x:491,y:741},p2:{x:506,y:770}},{p1:{x:506,y:770},p2:{x:570,y:794}},{p1:{x:570,y:794},p2:{x:608,y:779}},{p1:{x:608,y:779},p2:{x:619,y:763}},{p1:{x:619,y:763},p2:{x:623,y:739}},{p1:{x:623,y:739},p2:{x:624,y:707}},{p1:{x:624,y:707},p2:{x:623,y:674}},{p1:{x:623,y:674},p2:{x:624,y:648}},{p1:{x:624,y:648},p2:{x:633,y:631}},{p1:{x:633,y:631},p2:{x:647,y:617}},{p1:{x:647,y:617},p2:{x:666,y:609}},{p1:{x:666,y:609},p2:{x:689,y:592}},{p1:{x:689,y:592},p2:{x:704,y:570}},{p1:{x:704,y:570},p2:{x:714,y:548}},{p1:{x:714,y:548},p2:{x:728,y:524}},{p1:{x:728,y:524},p2:{x:755,y:476}},{p1:{x:755,y:476},p2:{x:768,y:450}},{p1:{x:768,y:450},p2:{x:775,y:404}},{p1:{x:775,y:404},p2:{x:777,y:336}},{p1:{x:777,y:336},p2:{x:777,y:276}},{p1:{x:777,y:276},p2:{x:777,y:245}},{p1:{x:777,y:245},p2:{x:751,y:171}},{p1:{x:751,y:171},p2:{x:738,y:149}},{p1:{x:738,y:149},p2:{x:707,y:120}},{p1:{x:707,y:120},p2:{x:688,y:108}},{p1:{x:688,y:108},p2:{x:647,y:90}},{p1:{x:647,y:90},p2:{x:619,y:74}},{p1:{x:619,y:74},p2:{x:603,y:58}},{p1:{x:603,y:58},p2:{x:568,y:42}},{p1:{x:568,y:42},p2:{x:517,y:38}},{p1:{x:517,y:38},p2:{x:494,y:38}},{p1:{x:494,y:38},p2:{x:419,y:44}},{p1:{x:419,y:44},p2:{x:356,y:44}},{p1:{x:356,y:44},p2:{x:260,y:44}},{p1:{x:260,y:44},p2:{x:214,y:44}},{p1:{x:214,y:44},p2:{x:184,y:44}},{p1:{x:184,y:44},p2:{x:161,y:44}},{p1:{x:161,y:44},p2:{x:134,y:44}},{p1:{x:134,y:44},p2:{x:107,y:47}},{p1:{x:107,y:47},p2:{x:78,y:59}},{p1:{x:78,y:59},p2:{x:72,y:80}},{p1:{x:72,y:80},p2:{x:72,y:109}},{p1:{x:72,y:109},p2:{x:75,y:135}},{p1:{x:75,y:135},p2:{x:120,y:159}},{p1:{x:120,y:159},p2:{x:129,y:160}},{p1:{x:140,y:104},p2:{x:168,y:109}},{p1:{x:168,y:109},p2:{x:228,y:110}},{p1:{x:228,y:110},p2:{x:247,y:116}},{p1:{x:247,y:116},p2:{x:267,y:147}},{p1:{x:267,y:147},p2:{x:265,y:172}},{p1:{x:265,y:172},p2:{x:264,y:202}},{p1:{x:264,y:202},p2:{x:270,y:225}},{p1:{x:270,y:225},p2:{x:282,y:258}},{p1:{x:282,y:258},p2:{x:261,y:282}},{p1:{x:261,y:282},p2:{x:251,y:292}},{p1:{x:251,y:292},p2:{x:237,y:305}},{p1:{x:237,y:305},p2:{x:205,y:311}},{p1:{x:205,y:311},p2:{x:183,y:318}},{p1:{x:183,y:318},p2:{x:163,y:337}},{p1:{x:163,y:337},p2:{x:164,y:362}},{p1:{x:164,y:362},p2:{x:192,y:393}},{p1:{x:192,y:393},p2:{x:213,y:404}},{p1:{x:213,y:404},p2:{x:229,y:405}},{p1:{x:229,y:405},p2:{x:245,y:403}},{p1:{x:245,y:403},p2:{x:270,y:396}},{p1:{x:270,y:396},p2:{x:282,y:384}},{p1:{x:282,y:384},p2:{x:291,y:365}},{p1:{x:291,y:365},p2:{x:295,y:342}},{p1:{x:295,y:342},p2:{x:298,y:320}},{p1:{x:298,y:320},p2:{x:299,y:293}},{p1:{x:299,y:293},p2:{x:302,y:272}},{p1:{x:302,y:272},p2:{x:302,y:250}},{p1:{x:302,y:250},p2:{x:309,y:218}},{p1:{x:309,y:218},p2:{x:314,y:200}},{p1:{x:314,y:200},p2:{x:323,y:179}},{p1:{x:323,y:179},p2:{x:341,y:168}},{p1:{x:341,y:168},p2:{x:364,y:159}},{p1:{x:364,y:159},p2:{x:382,y:157}},{p1:{x:382,y:157},p2:{x:399,y:162}},{p1:{x:399,y:162},p2:{x:432,y:187}},{p1:{x:432,y:187},p2:{x:438,y:200}},{p1:{x:438,y:200},p2:{x:434,y:224}},{p1:{x:434,y:224},p2:{x:427,y:243}},{p1:{x:427,y:243},p2:{x:420,y:282}},{p1:{x:420,y:282},p2:{x:419,y:307}},{p1:{x:419,y:307},p2:{x:423,y:325}},{p1:{x:423,y:325},p2:{x:428,y:334}},{p1:{x:428,y:334},p2:{x:442,y:329}},{p1:{x:442,y:329},p2:{x:450,y:307}},{p1:{x:450,y:307},p2:{x:456,y:282}},{p1:{x:456,y:282},p2:{x:465,y:262}},{p1:{x:465,y:262},p2:{x:477,y:243}},{p1:{x:477,y:243},p2:{x:487,y:229}},{p1:{x:487,y:229},p2:{x:504,y:219}},{p1:{x:504,y:219},p2:{x:531,y:211}},{p1:{x:531,y:211},p2:{x:552,y:208}},{p1:{x:552,y:208},p2:{x:600,y:208}},{p1:{x:600,y:208},p2:{x:616,y:208}},{p1:{x:616,y:208},p2:{x:629,y:222}},{p1:{x:629,y:222},p2:{x:645,y:247}},{p1:{x:645,y:247},p2:{x:652,y:261}},{p1:{x:652,y:261},p2:{x:658,y:276}},{p1:{x:658,y:276},p2:{x:665,y:288}},{p1:{x:665,y:288},p2:{x:670,y:313}},{p1:{x:670,y:313},p2:{x:672,y:351}},{p1:{x:672,y:351},p2:{x:670,y:368}},{p1:{x:670,y:368},p2:{x:662,y:399}},{p1:{x:662,y:399},p2:{x:660,y:412}},{p1:{x:660,y:412},p2:{x:652,y:428}},{p1:{x:652,y:428},p2:{x:641,y:442}},{p1:{x:641,y:442},p2:{x:622,y:455}},{p1:{x:622,y:455},p2:{x:599,y:463}},{p1:{x:599,y:463},p2:{x:570,y:471}},{p1:{x:570,y:471},p2:{x:546,y:473}},{p1:{x:546,y:473},p2:{x:503,y:474}},{p1:{x:503,y:474},p2:{x:460,y:474}},{p1:{x:460,y:474},p2:{x:413,y:472}},{p1:{x:413,y:472},p2:{x:398,y:476}},{p1:{x:398,y:476},p2:{x:350,y:499}},{p1:{x:350,y:499},p2:{x:348,y:508}},{p1:{x:348,y:508},p2:{x:333,y:528}},{p1:{x:333,y:528},p2:{x:314,y:537}},{p1:{x:314,y:537},p2:{x:266,y:539}},{p1:{x:266,y:539},p2:{x:239,y:541}},{p1:{x:239,y:541},p2:{x:211,y:541}},{p1:{x:211,y:541},p2:{x:192,y:536}},{p1:{x:192,y:536},p2:{x:177,y:536}},{p1:{x:177,y:536},p2:{x:174,y:546}},{p1:{x:174,y:546},p2:{x:172,y:560}},{p1:{x:172,y:560},p2:{x:173,y:590}},{p1:{x:173,y:590},p2:{x:176,y:605}},{p1:{x:176,y:605},p2:{x:169,y:637}},{p1:{x:169,y:637},p2:{x:160,y:646}},{p1:{x:160,y:646},p2:{x:162,y:666}},{p1:{x:162,y:666},p2:{x:168,y:671}},{p1:{x:168,y:671},p2:{x:181,y:671}},{p1:{x:181,y:671},p2:{x:192,y:671}},{p1:{x:192,y:671},p2:{x:205,y:669}},{p1:{x:205,y:669},p2:{x:224,y:664}},{p1:{x:224,y:664},p2:{x:236,y:672}},{p1:{x:236,y:672},p2:{x:243,y:660}},{p1:{x:243,y:660},p2:{x:250,y:641}},{p1:{x:250,y:641},p2:{x:245,y:625}},{p1:{x:245,y:625},p2:{x:248,y:605}},{p1:{x:248,y:605},p2:{x:254,y:588}},{p1:{x:254,y:588},p2:{x:258,y:575}},{p1:{x:258,y:575},p2:{x:260,y:569}},{p1:{x:260,y:569},p2:{x:268,y:561}},{p1:{x:268,y:561},p2:{x:280,y:553}},{p1:{x:280,y:553},p2:{x:298,y:545}},{p1:{x:298,y:545},p2:{x:308,y:545}},{p1:{x:308,y:545},p2:{x:326,y:541}},{p1:{x:326,y:541},p2:{x:345,y:541}},{p1:{x:345,y:541},p2:{x:356,y:550}},{p1:{x:356,y:550},p2:{x:358,y:560}},{p1:{x:358,y:560},p2:{x:357,y:573}},{p1:{x:357,y:573},p2:{x:358,y:583}},{p1:{x:358,y:583},p2:{x:362,y:589}},{p1:{x:362,y:589},p2:{x:364,y:595}},{p1:{x:364,y:595},p2:{x:364,y:600}},{p1:{x:364,y:600},p2:{x:365,y:617}},{p1:{x:365,y:617},p2:{x:365,y:620}},{p1:{x:365,y:620},p2:{x:368,y:634}},{p1:{x:368,y:634},p2:{x:369,y:647}},{p1:{x:369,y:647},p2:{x:370,y:657}},{p1:{x:370,y:657},p2:{x:370,y:666}},{p1:{x:370,y:666},p2:{x:370,y:676}},{p1:{x:370,y:676},p2:{x:369,y:685}},{p1:{x:369,y:685},p2:{x:370,y:696}},{p1:{x:370,y:696},p2:{x:375,y:684}},{p1:{x:375,y:684},p2:{x:371,y:667}},{p1:{x:371,y:667},p2:{x:373,y:641}},{p1:{x:373,y:641},p2:{x:370,y:620}},{p1:{x:370,y:620},p2:{x:367,y:603}},{p1:{x:367,y:603},p2:{x:366,y:590}},{p1:{x:366,y:590},p2:{x:371,y:578}},{p1:{x:371,y:578},p2:{x:378,y:564}},{p1:{x:378,y:564},p2:{x:386,y:536}},{p1:{x:386,y:536},p2:{x:391,y:527}},{p1:{x:391,y:527},p2:{x:413,y:514}},{p1:{x:413,y:514},p2:{x:435,y:510}},{p1:{x:435,y:510},p2:{x:466,y:509}},{p1:{x:466,y:509},p2:{x:469,y:510}},{p1:{x:469,y:510},p2:{x:506,y:543}},{p1:{x:506,y:543},p2:{x:510,y:545}},{p1:{x:510,y:545},p2:{x:521,y:547}},{p1:{x:521,y:547},p2:{x:531,y:561}},{p1:{x:531,y:561},p2:{x:538,y:573}},{p1:{x:538,y:573},p2:{x:534,y:591}},{p1:{x:534,y:591},p2:{x:531,y:606}},{p1:{x:531,y:606},p2:{x:526,y:632}},{p1:{x:526,y:632},p2:{x:526,y:647}},{p1:{x:526,y:647},p2:{x:528,y:662}},{p1:{x:528,y:662},p2:{x:533,y:682}},{p1:{x:533,y:682},p2:{x:543,y:712}},{p1:{x:543,y:712},p2:{x:547,y:719}},{p1:{x:547,y:719},p2:{x:568,y:718}},{p1:{x:568,y:718},p2:{x:573,y:694}},{p1:{x:573,y:694},p2:{x:576,y:673}},{p1:{x:576,y:673},p2:{x:588,y:637}},{p1:{x:588,y:637},p2:{x:588,y:616}},{p1:{x:588,y:616},p2:{x:587,y:590}},{p1:{x:587,y:590},p2:{x:610,y:568}},{p1:{x:610,y:568},p2:{x:617,y:566}},{p1:{x:617,y:566},p2:{x:637,y:544}},{p1:{x:637,y:544},p2:{x:649,y:528}},{p1:{x:649,y:528},p2:{x:664,y:499}},{p1:{x:664,y:499},p2:{x:674,y:482}},{p1:{x:674,y:482},p2:{x:695,y:455}},{p1:{x:695,y:455},p2:{x:714,y:411}},{p1:{x:714,y:411},p2:{x:714,y:323}},{p1:{x:714,y:323},p2:{x:714,y:290}},{p1:{x:714,y:290},p2:{x:702,y:237}},{p1:{x:702,y:237},p2:{x:688,y:207}},{p1:{x:688,y:207},p2:{x:666,y:190}},{p1:{x:666,y:190},p2:{x:617,y:148}},{p1:{x:617,y:148},p2:{x:583,y:128}},{p1:{x:583,y:128},p2:{x:554,y:117}},{p1:{x:554,y:117},p2:{x:468,y:99}},{p1:{x:468,y:99},p2:{x:398,y:93}},{p1:{x:398,y:93},p2:{x:338,y:89}},{p1:{x:338,y:89},p2:{x:306,y:88}},{p1:{x:306,y:88},p2:{x:257,y:88}},{p1:{x:257,y:88},p2:{x:237,y:88}},{p1:{x:237,y:88},p2:{x:208,y:88}},{p1:{x:208,y:88},p2:{x:111,y:94}},{p1:{x:111,y:94},p2:{x:133,y:101}},{p1:{x:133,y:101},p2:{x:148,y:103}},{p1:{x:148,y:103},p2:{x:153,y:107}},{p1:{x:369,y:695},p2:{x:362,y:714}},{p1:{x:362,y:714},p2:{x:361,y:735}},{p1:{x:361,y:735},p2:{x:372,y:743}},{p1:{x:372,y:743},p2:{x:380,y:736}},{p1:{x:380,y:736},p2:{x:380,y:729}},{p1:{x:380,y:729},p2:{x:379,y:711}},{p1:{x:379,y:711},p2:{x:370,y:693}}]},C=[v,R,N,k,B],b=200,A=180,T=Math.PI/50,d=70,D=.1,g=(y,p)=>Math.sqrt((y.x-p.x)**2+(y.y-p.y)**2),z=(y,p)=>y.slice(0,Math.min(y.length,p.length)).map((t,i)=>[t,p[i]]),F=y=>y!=null,P=(y,p)=>Math.random()<p?Math.random()*2-1:y,u=class{constructor(p){a(this,"forward",p=>this.layers.reduce((t,i)=>i.map(([x,e])=>z(x,t).reduce((n,[o,l])=>n+o*l,e)).map(Math.tanh),p));a(this,"mutate",p=>new u(this.layers.map(t=>t.map(([i,x])=>[i.map(e=>P(e,p)),P(x,p)]))));this.layers=p}};let m=u;a(m,"fromShape",p=>new u(p.slice(1).map((t,i)=>Array(t).fill(0).map(()=>[Array(p[i]).fill(0).map(()=>Math.random()*2-1),Math.random()*2-1]))));class w{constructor(p,t={x:100,y:120},i={x:1,y:0},x=0,e=[{angle:-Math.PI/3,size:d},{angle:0,size:d*1.5},{angle:Math.PI/3,size:d}],n=20,o=10){a(this,"sensorsLines",()=>this.sensors.map(p=>({p1:this.center,p2:{x:this.center.x+p.size*Math.cos(p.angle+Math.atan2(this.direction.y,this.direction.x)),y:this.center.y+p.size*Math.sin(p.angle+Math.atan2(this.direction.y,this.direction.x))}})));a(this,"shapeLines",()=>[{p1:{x:-this.width/2,y:-this.height/2},p2:{x:this.width/2,y:-this.height/2}},{p1:{x:this.width/2,y:-this.height/2},p2:{x:this.width/2,y:this.height/2}},{p1:{x:this.width/2,y:this.height/2},p2:{x:-this.width/2,y:this.height/2}},{p1:{x:-this.width/2,y:this.height/2},p2:{x:-this.width/2,y:-this.height/2}}].map(p=>({p1:{x:this.center.x+p.p1.x*Math.cos(Math.atan2(this.direction.y,this.direction.x))-p.p1.y*Math.sin(Math.atan2(this.direction.y,this.direction.x)),y:this.center.y+p.p1.x*Math.sin(Math.atan2(this.direction.y,this.direction.x))+p.p1.y*Math.cos(Math.atan2(this.direction.y,this.direction.x))},p2:{x:this.center.x+p.p2.x*Math.cos(Math.atan2(this.direction.y,this.direction.x))-p.p2.y*Math.sin(Math.atan2(this.direction.y,this.direction.x)),y:this.center.y+p.p2.x*Math.sin(Math.atan2(this.direction.y,this.direction.x))+p.p2.y*Math.cos(Math.atan2(this.direction.y,this.direction.x))}})));this.brain=p,this.center=t,this.direction=i,this.steering=x,this.sensors=e,this.width=n,this.height=o}update(p,t){const[i]=this.brain.forward(t);this.steering=i<-.2?-T:i<=.2?0:+T,this.center.x+=this.direction.x*A*p,this.center.y+=this.direction.y*A*p,this.direction.x=this.direction.x*Math.cos(this.steering)-this.direction.y*Math.sin(this.steering),this.direction.y=this.direction.x*Math.sin(this.steering)+this.direction.y*Math.cos(this.steering);const x=Math.sqrt(this.direction.x**2+this.direction.y**2);this.direction.x/=x,this.direction.y/=x}}const I=(y,p)=>{const t=(y.p1.x-y.p2.x)*(p.p1.y-p.p2.y)-(y.p1.y-y.p2.y)*(p.p1.x-p.p2.x);if(t===0)return null;const i=((y.p1.x*y.p2.y-y.p1.y*y.p2.x)*(p.p1.x-p.p2.x)-(y.p1.x-y.p2.x)*(p.p1.x*p.p2.y-p.p1.y*p.p2.x))/t,x=((y.p1.x*y.p2.y-y.p1.y*y.p2.x)*(p.p1.y-p.p2.y)-(y.p1.y-y.p2.y)*(p.p1.x*p.p2.y-p.p1.y*p.p2.x))/t;return i<Math.min(y.p1.x,y.p2.x)||i>Math.max(y.p1.x,y.p2.x)||i<Math.min(p.p1.x,p.p2.x)||i>Math.max(p.p1.x,p.p2.x)||x<Math.min(y.p1.y,y.p2.y)||x>Math.max(y.p1.y,y.p2.y)||x<Math.min(p.p1.y,p.p2.y)||x>Math.max(p.p1.y,p.p2.y)?null:{x:i,y:x}},G=()=>{const y=document.getElementById("main-canvas"),p=y.getContext("2d"),t=C[4];let i=Array.from({length:b}).map(()=>new w(m.fromShape([3,5,1]))),x=0,e=performance.now();const n=o=>{const l=(o-e)/1e3;e=o,p.clearRect(0,0,y.width,y.height),t.walls.forEach(s=>f(p,s));const E=i.map(s=>{const c=s.sensorsLines(),L=s.shapeLines(),S=c.map(h=>t.walls.map(r=>I(h,r)).filter(F).reduce((r,M)=>r?g(s.center,M)<g(s.center,r)?M:r:M,null)).map(h=>h===null?0:1-g(s.center,h)/d);return L.forEach(h=>f(p,h)),z(S,c).forEach(([h,r])=>f(p,r,`rgba(255,0,0,${h})`)),s.update(l,S),L.some(h=>t.walls.some(r=>I(h,r)!=null))});i.length===E.filter(s=>s).length?(i=Array.from({length:b}).map(()=>new w(i[0].brain.mutate(D))).concat([new w(i[0].brain.mutate(0))]),document.getElementById("epoch").innerText=(++x).toString()):i=i.filter((s,c)=>!E[c]),requestAnimationFrame(n)};n(1)};G();
